{"remainingRequest":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/thread-loader/dist/cjs.js!/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/babel-loader/lib/index.js!/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/src/components/page/Page4.vue?vue&type=template&id=c96285fc","dependencies":[{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/src/components/page/Page4.vue","mtime":1651478207369},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImFic29sdXRlIHRvcC0xIGxlZnQtMiBvcGFjaXR5LTUiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgInNuaXBwZXQtYnV0dG9uIjogIiIsCiAgY2xhc3M6ICJ3LWZ1bGwiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9CYXNpY0J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJCYXNpY0J1dHRvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsidy1mdWxsIGgtZnVsbCIsIFsndy1mdWxsIGgtZnVsbCcsICdmbGV4IGp1c3RpZnktZW5kJywgJ3AtMiBnYXAtMiddXSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuY291bnRlciksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzaWNCdXR0b24sIHsKICAgIGlzQWN0aXZlOiAkb3B0aW9ucy5pc09ubGluZSwKICAgIG9uQ2xpY2s6ICRvcHRpb25zLnRvZ2dsZUlzQWN0aXZlLAogICAgY2xhc3M6IF9ub3JtYWxpemVDbGFzcyhbJ3ctZnVsbCBoLWZ1bGwnLCAkb3B0aW9ucy5pc09ubGluZSAmJiAkZGF0YS5pc0FjdGl2ZSA/ICdiZy1ibGFjaycgOiAkZGF0YS5pc0FjdGl2ZSA/ICdiZy1ncmF5LTEwMCcgOiAnYmctbm9uZSddKQogIH0sIG51bGwsIDgsIFsiaXNBY3RpdmUiLCAib25DbGljayIsICJjbGFzcyJdKV0pXSk7Cn0="},{"version":3,"sources":["/Users/karen/Desktop/sose22 – candy desk/website__zeiterfassung/src/components/page/Page4.vue"],"names":[],"mappings":";;AAOQ,EAAA,KAAK,EAAC;;;AACL,oBAAA,E;AACH,EAAA,KAAK,EAAC;;;;;uBARV,mBAAA,CAsBM,KAtBN,EAsBM;AAtBD,IAAA,KAAK,EAAA,eAAA,CAAA,CAAC,eAAD,EACF,C,eAAA,E,kBAAA,E,WAAA,CADE,CAAA;AAsBJ,GAtBN,E,CAMA,mBAAA,CAAgE,MAAhE,EAAA,UAAA,EAAgE,gBAAA,CAAhB,KAAA,CAAA,OAAgB,CAAhE,EAAuD,CAAvD,C,EACE,mBAAA,CAaM,KAbN,EAAA,UAAA,EAaM,CAVJ,YAAA,CAQI,sBARJ,EAQI;AAPD,IAAA,QAAQ,EAAE,QAAA,CAAA,QAOT;AAND,IAAA,OAAK,EAAE,QAAA,CAAA,cAMN;AALD,IAAA,KAAK,EAAA,eAAA,CAAA,C,eAAA,EAAyC,QAAA,CAAA,QAAA,IAAY,KAAA,CAAA,QAAZ,GAAoB,UAApB,GAAoC,KAAA,CAAA,QAAA,GAAQ,aAAR,G,SAA7E,CAAA;AAKJ,GARJ,E,IAAA,E,CAAA,E,gCAAA,CAUI,CAbN,C,CAPF,C","sourcesContent":["<template>\n  <div class=\"w-full h-full\"\n  :class=\"[\n    'w-full h-full',\n    'flex justify-end',\n    'p-2 gap-2'\n  ]\">\n  <span class=\"absolute top-1 left-2 opacity-5\">{{counter}}</span>\n    <div snippet-button\n      class=\"w-full\"\n    >\n      <BasicButton\n        :isActive=\"isOnline\"\n        @click=\"toggleIsActive\"\n        :class=\"[\n          'w-full h-full',\n          isOnline && isActive ? 'bg-black' : isActive ? 'bg-gray-100'\n                                                       : 'bg-none'\n        ]\"\n        />\n\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport $ from 'jquery'\nimport axios from 'axios'\n\n\nexport default {\n  data() {\n    return {\n      timer: \"\",\n      interval: null,\n      titleInterval: null,\n      logs: null,\n      counter: null,\n      isActive: false,\n      isBlocked: false,\n      num: 3,\n    }\n  },\n  computed: {\n    isOnline() {\n      return (this.counter === this.num)\n    }\n  },\n  watch: {\n    isOnline: {\n      immediate: false,\n      handler(boolean) {\n\n        var link = document.querySelector(\"link[rel~='icon']\");\n        if (!link) {\n            link = document.createElement('link');\n            link.rel = 'icon';\n            document.getElementsByTagName('head')[0].appendChild(link);\n        }\n\n\n        if (boolean) {\n          this.titleInterval = setInterval(function () {\n            link.href = '/faviconW.png';\n            setTimeout(()=>{\n              link.href = '/favicon.png';\n            }, 450)\n          }, 1000);\n        } else {\n          clearInterval(this.titleInterval)\n          link.href = '/faviconW.png';\n        }\n      },\n    },\n  },\n  created() {\n    document.addEventListener('beforeunload', this.handler)\n  },\n  methods: {\n    toggleIsActive() {\n      if (this.isActive) {\n        this.isActive = false\n        localStorage.isActive = false\n        this.decrementCounter();\n      } else {\n        this.isActive = true\n        localStorage.isActive = true\n        this.incrementCounter();\n      }\n    },\n    // handler: function handler(event) {\n    //   localStorage.isActive = false;\n    // },\n    incrementCounter() {\n      $.ajax({\n          contentType: \"application/json\", // php://input\n          dataType : \"json\",\n          method: \"POST\",\n          processData: false,\n          url: \"http://localhost:8888/incrementCounter.php\",\n          // url: \"//thumb.kew-halle.de/incrementCounter.php\",\n          data: JSON.stringify(this.counter + 1)\n      })\n      .done(function(data) {\n          console.log(data);\n      })\n      .fail(function(data) {\n          console.log(data);\n      });\n    },\n    decrementCounter() {\n      $.ajax({\n          contentType: \"application/json\", // php://input\n          dataType : \"json\",\n          method: \"POST\",\n          processData: false,\n          url: \"http://localhost:8888/decrementCounter.php\",\n          // url: \"//thumb.kew-halle.de/decrementCounter.php\",\n          data: JSON.stringify(this.counter - 1)\n      })\n      .done(function(data) {\n          console.log(data);\n      })\n      .fail(function(data) {\n          console.log(data);\n      });\n    },\n    getContent() {\n      axios.get('counter.json')\n     .then(res => this.counter = res.data)\n     .catch(err => console.log(err))\n     console.log(this.counter)\n    }\n  },\n  mounted() {\n\n    var link = document.querySelector(\"link[rel~='icon']\");\n    if (!link) {\n        link = document.createElement('link');\n        link.rel = 'icon';\n        document.getElementsByTagName('head')[0].appendChild(link);\n    }\n    link.href = '/faviconW.png';\n\n    let _ = this\n    this.interval = setInterval(function () {\n      if (!this.isBlocked) {\n        _.getContent()\n      }\n    }, 1000);\n    // this.etContent();\n    // this.incrementCounter();\n    //\n    if (localStorage.isActive === undefined) {\n      localStorage.isActive = false\n      this.isActive = false;\n    } else if (JSON.parse(localStorage.isActive) === true) {\n      this.isActive = true;\n    } else {\n      this.isActive = false;\n    }\n  },\n  beforeUnmount(){\n    clearInterval(this.interval);\n  }\n}\n\n</script>\n"],"sourceRoot":""}]}